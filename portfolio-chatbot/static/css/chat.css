:root{ --bg:#f6f7fb; --card:#fff; --text:#111827; --muted:#6b7280; --primary:#5b5bd6; --bot:#5b2cd6; --user:#eef0f4; --radius:22px; }
*{box-sizing:border-box} html,body{height:100%}
html, body{overflow-x:hidden}
body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--text);background:var(--bg);
	min-height:100vh; display:grid; place-items:center;}
.chat-shell{max-width:820px;width:100%;margin:0 auto;min-height:min(92vh, 900px);display:grid;grid-template-rows:auto 1fr auto;
	background:#fff;border-radius:16px;box-shadow:0 10px 30px #00000012;overflow:hidden}
.chat-header{background:var(--primary);color:#fff;padding:16px 18px;display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;z-index:5;border-bottom-left-radius:12px;border-bottom-right-radius:12px}
.brand{display:flex;gap:12px;align-items:center}
.bot-avatar{width:36px;height:36px;border-radius:50%;display:grid;place-items:center;background:#fff2;font-size:18px}
.chat-header h1{font-size:18px;margin:0;font-weight:700;line-height:1.1}
.status{display:flex;align-items:center;gap:8px;font-size:12px}
.status .dot{width:8px;height:8px;border-radius:50%;background:#22c55e;box-shadow:0 0 0 4px #22c55e33}
.icon-btn{background:#ffffff20;color:#fff;border:0;padding:10px;border-radius:12px;display:grid;place-items:center;cursor:pointer}
.icon-btn:hover{background:#ffffff30}
.chat-body{padding:18px;overflow-y:auto;overflow-x:hidden;-webkit-overflow-scrolling:touch;background:linear-gradient(#fafbff, #f6f7fb);
	/* keep last messages visible above the input bar */
	padding-bottom: 110px;
}
.messages{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:14px}
.msg{display:flex;gap:10px;align-items:flex-end}
.msg.bot{justify-content:flex-start}.msg.user{justify-content:flex-end}
.bubble{max-width:min(85%,620px); width:max-content; min-width:72px;
	padding:12px 14px; line-height:1.45; box-shadow:0 1px 2px #0000000c,0 4px 10px #00000008;
		word-wrap:break-word; overflow-wrap:break-word; white-space:pre-wrap}
.msg.bot .bubble{background:var(--bot);color:#fff;border-radius:16px 16px 16px 6px}
.msg.user .bubble{background:var(--user);border-radius:16px 16px 6px 16px}
.avatar{width:32px;height:32px;border-radius:50%;display:grid;place-items:center;font-size:16px;background:#e5e7eb;color:#111;flex:0 0 auto}
.meta{font-size:11px;color:var(--muted);margin-top:6px}
.msg.user .meta{text-align:right}
.typing{display:inline-flex;gap:5px;align-items:center}
.dot-typing{width:8px;height:8px;border-radius:50%;background:#fff;opacity:.8;animation:blink 1.3s infinite}
.dot-typing:nth-child(2){animation-delay:.15s}.dot-typing:nth-child(3){animation-delay:.3s}
@keyframes blink{0%,80%,100%{opacity:.2}40%{opacity:1}}
.chat-input{position:sticky;bottom:0;z-index:5;background:linear-gradient(transparent,#fff 20%);
	padding:14px 18px calc(18px + env(safe-area-inset-bottom, 0px));
	display:flex;gap:10px; align-items:flex-end;}
#message{flex:1 1 auto; resize:none; min-height:44px; max-height:40vh; width:100%; display:block;
	border:1px solid #e5e7eb; border-radius:14px; padding:12px 14px; font:inherit; font-size:16px; line-height:1.4; color:var(--text);
	background:var(--card); outline:none; caret-color:var(--text);
		overflow-y:auto; overflow-x:hidden; scrollbar-gutter:stable both-edges; appearance:none; -webkit-appearance:none; background-clip:padding-box; z-index:1}

/* Subtle scrollbar styling (Chromium) */
#message::-webkit-scrollbar{width:8px}
#message::-webkit-scrollbar-thumb{background:#cdd1dc;border-radius:8px}
#message::-webkit-scrollbar-track{background:transparent}
#message::placeholder{ color: var(--muted); opacity: .9 }
#message:focus{ border-color:#b6b8c8; box-shadow:0 0 0 3px #5b5bd61f }
#message:focus{border-color:#c7c9d6;box-shadow:0 0 0 3px #5b5bd61f}
.send-btn{border:0;background:var(--bot);color:#fff;border-radius:14px;padding:0 16px;display:grid;place-items:center;cursor:pointer;min-width:48px;height:44px;align-self:flex-end}
.send-btn:hover{filter:brightness(1.05)}
@media (max-width:640px){
	body{place-items:stretch}
	.chat-shell{max-width:100%;min-height:100vh;border-radius:0}
	.bubble{max-width:90%}
	.chat-header{border-radius:0}
}
